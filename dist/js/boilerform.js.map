{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 1aaff6711b0dc9265256","webpack:///./assets/js/boilerform.js","webpack:///./assets/js/modules/validation.js","webpack:///./assets/scss/boilerform.scss"],"names":["boilerforms","document","querySelector","length","map","validationInstance","item","init","Validation","baseForm","inputElems","querySelectorAll","self","bind","setCustomValidationMessages","addEventListener","processValidity","setCustomValidationMessage","hasAttribute","setCustomValidity","getAttribute","state","classList","add","remove","validity","valid","process","checkSiblings","customError","badInput","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing","filter","elem"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DA;;;;AAGA;;;;;;;;AADA;;;AAGC,aAAW;;AAER;AACA,QAAMA,2CAAkBC,SAASC,aAAT,CAAuB,mCAAvB,CAAlB,EAAN;;AAEA,QAAGF,YAAYG,MAAf,EAAuB;;AAEnB;AACAH,oBAAYI,GAAZ,CAAgB,gBAAQ;AACpB,gBAAIC,qBAAqB,yBAAeC,IAAf,CAAzB;;AAEAD,+BAAmBE,IAAnB;AACH,SAJD;AAKH;AACJ,CAdA,GAAD,C;;;;;;;;;;;;;;;;;;;ICLqBC,U;;AAEjB;;;;AAIA,wBAAYC,QAAZ,EAAsB;AAAA;;AAClB,aAAKA,QAAL,GAAgBA,QAAhB;;AAEA;AACA,aAAKC,UAAL,gCAAsBD,SAASE,gBAAT,CAA0B,yBAA1B,CAAtB;AACH;;AAED;;;;;;;+BAGO;AACH,gBAAIC,OAAO,IAAX;;AAEAA,iBAAKC,IAAL;AACAD,iBAAKE,2BAAL;AACH;;AAED;;;;;;+BAGO;AACH,gBAAIF,OAAO,IAAX;;AAEA;AACAA,iBAAKF,UAAL,CAAgBN,GAAhB,CAAoB,gBAAQ;AACxBE,qBAAKS,gBAAL,CAAsB,SAAtB,EAAiC,eAAO;AACpCH,yBAAKI,eAAL,CAAqBV,IAArB;AACH,iBAFD,EAEG,KAFH;AAGH,aAJD;AAKH;;AAED;;;;;;;sDAI8B;AAC1B,gBAAIM,OAAO,IAAX;;AAEAA,iBAAKF,UAAL,CAAgBN,GAAhB,CAAoB,gBAAQ;AACxBQ,qBAAKK,0BAAL,CAAgCX,IAAhC;AACH,aAFD;AAGH;;AAED;;;;;;;mDAI2BA,I,EAAM;AAC7B,gBAAIM,OAAO,IAAX;;AAEA,gBAAGN,KAAKY,YAAL,CAAkB,yBAAlB,CAAH,EAAiD;AAC7CZ,qBAAKa,iBAAL,CAAuBb,KAAKc,YAAL,CAAkB,yBAAlB,CAAvB;AACH;AACJ;;AAED;;;;;;;;gCAKQd,I,EAAyB;AAAA,gBAAnBe,KAAmB,uEAAX,SAAW;;AAC7B,gBAAIT,OAAO,IAAX;;AAEA,oBAAOS,KAAP;AACI,qBAAK,SAAL;AACIf,yBAAKgB,SAAL,CAAeC,GAAf,CAAmB,UAAnB;AACAX,yBAAKK,0BAAL,CAAgCX,IAAhC;AACA;AACJ;AACIA,yBAAKgB,SAAL,CAAeE,MAAf,CAAsB,UAAtB;AACA;AAPR;AASH;;AAED;;;;;;;wCAIgBlB,I,EAAM;AAClB,gBAAIM,OAAO,IAAX;;AAEA;AACA,gBAAGN,KAAKmB,QAAL,CAAcC,KAAjB,EAAwB;AACpBd,qBAAKe,OAAL,CAAarB,IAAb,EAAmB,OAAnB;AACAM,qBAAKgB,aAAL,CAAmBtB,IAAnB;AACA;AACH;;AAED;AACA,gBAAGA,KAAKmB,QAAL,CAAcI,WAAjB,EAA8B;;AAE1B;AACA,oBAAG,CAACvB,KAAKmB,QAAL,CAAcK,QAAf,IACI,CAACxB,KAAKmB,QAAL,CAAcM,eADnB,IAEI,CAACzB,KAAKmB,QAAL,CAAcO,aAFnB,IAGI,CAAC1B,KAAKmB,QAAL,CAAcQ,cAHnB,IAII,CAAC3B,KAAKmB,QAAL,CAAcS,YAJnB,IAKI,CAAC5B,KAAKmB,QAAL,CAAcU,OALnB,IAMI,CAAC7B,KAAKmB,QAAL,CAAcW,QANnB,IAOI,CAAC9B,KAAKmB,QAAL,CAAcY,YAPnB,IAQI,CAAC/B,KAAKmB,QAAL,CAAca,YARtB,EAQoC;;AAEhC;AACAhC,yBAAKa,iBAAL,CAAuB,EAAvB;AACAP,yBAAKe,OAAL,CAAarB,IAAb,EAAmB,OAAnB;;AAEAM,yBAAKgB,aAAL,CAAmBtB,IAAnB;AACA;AACH;AACJ;;AAED;AACAM,iBAAKe,OAAL,CAAarB,IAAb,EAAmB,SAAnB;AACAM,iBAAKgB,aAAL,CAAmBtB,IAAnB;AACH;;AAED;;;;;;;sCAIcA,I,EAAM;AAChB,gBAAIM,OAAO,IAAX;;AAEA;AACA,gBAAIF,aAAaE,KAAKF,UAAL,CAAgB6B,MAAhB,CAAuB;AAAA,uBAAQC,QAAQlC,IAAR,IAAgBkC,KAAKtB,YAAL,CAAkB,UAAlB,CAAxB;AAAA,aAAvB,CAAjB;;AAEA,gBAAGR,WAAWP,MAAd,EAAsB;;AAElB;AACAO,2BAAWN,GAAX,CAAe,gBAAQ;AACnBQ,yBAAKI,eAAL,CAAqBV,IAArB;AACH,iBAFD;AAGH;AACJ;;;;;;kBA3IgBE,U;AA4IpB;;;;;;;AC5ID,yC","file":"boilerform.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"boilerform\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"boilerform\"] = factory();\n\telse\n\t\troot[\"boilerform\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1aaff6711b0dc9265256","import Validation from './modules/validation';\n\n// Import Sass so that webpack picks it up\nimport BoilerFormCSS from '../scss/boilerform.scss';\n\n(function() {\n\n    // Look for child and root forms \n    const boilerforms = [...document.querySelector('.boilerform form, form.boilerform')];\n\n    if(boilerforms.length) {\n\n        // Add a validator to each form instance\n        boilerforms.map(item => {\n            let validationInstance = new Validation(item);\n\n            validationInstance.init();\n        });  \n    }\n}());\n\n\n// WEBPACK FOOTER //\n// ./assets/js/boilerform.js","export default class Validation {\n\n    /**\n     * Load up an instance of Validation\n     * @param {HTMLFormElement} baseForm \n     */\n    constructor(baseForm) {\n        this.baseForm = baseForm;\n\n        // Load child input elements\n        this.inputElems = [...baseForm.querySelectorAll('input, textarea, select')];\n    }\n\n    /**\n     * Public init method\n     */\n    init() {\n        let self = this;\n\n        self.bind();\n        self.setCustomValidationMessages();\n    }\n\n    /**\n     * Bind events to input elements\n     */\n    bind() {\n        let self = this;\n\n        // Add an invalid listener that \n        self.inputElems.map(item => {\n            item.addEventListener('invalid', evt => {\n                self.processValidity(item);\n            }, false);\n        });\n    }\n\n    /**\n     * Run through each item and check they have a `data-validation-message` attribute.\n     * If so, set a custom validation message with that value\n     */\n    setCustomValidationMessages() {\n        let self = this;\n\n        self.inputElems.map(item => {\n            self.setCustomValidationMessage(item);\n        });\n    }\n\n    /**\n     * Set a custom validation message if item needs it\n     * @param {HTMLElement} item \n     */\n    setCustomValidationMessage(item) {\n        let self = this;\n        \n        if(item.hasAttribute('data-validation-message')) {\n            item.setCustomValidity(item.getAttribute('data-validation-message'));\n        }\n    }\n\n    /**\n     * Toggle the visual state of an item based on the based state key\n     * @param {HTMLElement} item \n     * @param {String} state \n     */\n    process(item, state = 'invalid') {\n        let self = this;\n\n        switch(state) {\n            case 'invalid':\n                item.classList.add('is-error');\n                self.setCustomValidationMessage(item);\n                break;\n            default: \n                item.classList.remove('is-error');\n                break;\n        } \n    }\n\n    /**\n     * Run some checks to determine if the passed item is valid or not\n     * @param {HTMLElement} item \n     */\n    processValidity(item) {\n        let self = this;\n\n        // If an item is valid, run the processor and bail\n        if(item.validity.valid) {\n            self.process(item, 'valid');\n            self.checkSiblings(item);\n            return;\n        }\n\n        // Before we determine it as invalid, check to see if there's a custom error\n        if(item.validity.customError) {\n\n            // Now let's check against some states\n            if(!item.validity.badInput \n                && !item.validity.patternMismatch \n                && !item.validity.rangeOverflow\n                && !item.validity.rangeUnderflow\n                && !item.validity.stepMismatch\n                && !item.validity.tooLong\n                && !item.validity.tooShort\n                && !item.validity.typeMismatch\n                && !item.validity.valueMissing) {\n                \n                // It's valid, so process accordingly\n                item.setCustomValidity('');\n                self.process(item, 'valid');\n\n                self.checkSiblings(item);\n                return;\n            }\n        }\n\n        // If we're here, it's invalid\n        self.process(item, 'invalid');\n        self.checkSiblings(item);\n    }\n\n    /**\n     * Check an item's siblings validty state\n     * @param {HTMLElement} item \n     */\n    checkSiblings(item) {\n        let self = this;\n\n        // Find siblings that aren't this item and that are required\n        let inputElems = self.inputElems.filter(elem => elem != item && elem.hasAttribute('required'));\n        \n        if(inputElems.length) {\n\n            // Run each item through the processor\n            inputElems.map(item => {\n                self.processValidity(item);\n            });\n        }\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./assets/js/modules/validation.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/scss/boilerform.scss\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}